<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RichUI Tutorial Step #8 - TabView 사용하기</title>
    <script type="text/javascript" src="./js/shCore.js"></script>
    <script type="text/javascript" src="./js/shBrushJScript.js"></script>
    <script type="text/javascript" src="./js/shBrushCss.js"></script>
    <script type="text/javascript" src="./js/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="./css/dokuwiki.css"/>
    <link type="text/css" rel="stylesheet" href="./css/shCore.css"></link>
    <link type="text/css" rel="stylesheet" href="./css/shCoreEclipse.css"></link>
    <style type="text/css" >
        html {background:none;}
        body {
            color: #000;
            background-color: #fff;
        }
        .tbl-deco {
            border: 1px;
            border-color: black;
            background-color:darkgray;
            border-collapse:collapse;
        }
        .tbl-deco tr{
            background-color: #fff;
            
        }
        #page{
            padding:0px;
        }
        .body {
            padding-left: 20px;
            padding-right: 20px;
        }
        div.dokuwiki #page h1, div.export h1, div.dokuwiki #page h2, div.export h2 {
            font-size:14px;
            color: #333;
            margin-bottom: 0px;
            border-bottom: 1px solid #bababa;
            padding: 9px 0px 9px 20px;
            background: url(./../../resources/images/demo/subtitle_blue.gif) no-repeat center left;
        }
        div.dokuwiki #page h2, div.export h2 {
            font-size:14px;
            color: #333;
            margin: 0px;
            border-bottom: 1px solid #bababa;
        }
        div.dokuwiki #page>h1:nth-of-type(1) {
            font-size:14px;
            padding-left: 40px;
            background: url(./../../resources/images/bullet.png) no-repeat 20px 17px;
        }
        div.dokuwiki #page>h2:nth-of-type(1) {
            font-size:12px;
        }
        div.dokuwiki #page>h1, div.dokuwiki #page>h2{
            font-size: 12px;
            margin-top: 20px;
            margin-bottom: 10px;
            padding-bottom: 10px;
        }
        div.dokuwiki p, div.dokuwiki blockquote, div.dokuwiki table, div.dokuwiki pre {
            margin: 0px 0px 5px 0px;
        }
        div.dokuwiki ul {
            line-height: 24px;
            list-style-type: none;
        }
        p {
            margin: 7px 0px;
        }
        div.dokuwiki div.level1 {
            padding-top: 10px;
        }
        div.dokuwiki div.level2 {
            margin-left: 0px;
        }
        div.dokuwiki .level1 ul {
            line-height: 24px;
            list-style-type: none;
            margin: 10px 0px 0px 0px;
            background-color: #f8f8f8;
            border: 1px solid #bababa;
            padding: 15px 10px;
        }
        div.dokuwiki ol {
            line-height:1.5em;
            list-style-image:none;
            margin:0 0 1em 3.5em;
            font-weight:bold;
        }
        div.dokuwiki .li {
            color:#000;
            margin: 0px;
            font-size: 12px;
        }
        .syntaxhighlighter {
            background-color: #FDFBEB !important;
            border: 1px solid #BABABA;
        }
        .tbl-deco tr th, .tbl-deco tr td {
            border: 1px solid #BABABA;
        }
    </style>
    <script type="text/javascript">
        SyntaxHighlighter.defaults['smart-tabs'] = false;
        SyntaxHighlighter.all();
    </script>
    
</head>
<body>
<div class="dokuwiki">
    <div id="page">
        <h1 class="sectionedit1">TabView 사용하기</h1>
        <div class="body">
	        <div class="level1">
	            <p>Rui.ui.tab.LTabView는 하나의 페이지에서 여러 개의 탭으로 구성된 내용을 보여주는 컴포넌트입니다.<BR/>
	 이번에는 탭뷰를 사용하는 방법에 대해 알아보겠습니다.
	            </p>
	
	        <h2 class="sectionedit2">TabView 선언하기 </h2>
	        <div class="level2">
	         <p>탭뷰는 보통 여러 개의 탭으로 구성되어 있는데 각 탭은 레이블과 콘텐츠 영역으로 구분됩니다. <BR/>
	레이블은 탭의 헤더 타이틀을 표시하고 콘텐츠 영역은 각 탭의 내용을 구성하는 부분으로 이루어집니다.<BR/>
	콘텐츠영역은 보통 HTML Element로 구성합니다. 사용하는 방법은 다음과 같습니다.</p>
	         
	        <pre class="brush: js; highlight: [3,7,8,17,22,26]">
	        &lt;script type="text/javascript"&gt;
	        Rui.onReady(function(){
	            var tabView = new Rui.ui.tab.LTabView({
	                contentHeight: 300,                          // 콘텐츠영역의 전체 높이 값
	                tabs: [                                      // 탭뷰를 구성할 탭들을 정의
	                    {                                        // 첫번째 탭
	                        label: 'Tab1',                       // 탭의 제목
	                        content: '<div>첫번째 탭입니다.</div>', // 탭 선택시 선택할 내용
	                        active: true                         // 탭 생성시 현재의 탭을 선택된 탭으로 설정
	                    },
	                    {                                        // 두번째 탭
	                        id: 'div-content-test',              // 콘텐츠 내용을 별도 DOM Element로 설정
	                        label: 'Dom & TreeView'
	                    },
	                    {
	                        label: 'gridview',
	                        content: '<div><div id="defaultGrid"></div></div>' // 콘텐츠 내용을 별도 DOM Element로 직접 설정
	                    }
	                ]
	            });
	    
	            tabView.render('tab-container');           // 탭뷰를 생성할 위치를 설정 
	        });
	        &lt;/script&gt;
	        &lt;body&gt;
	            &lt;div id="tab-container"&gt;&lt;/div&gt;
	            &lt;div id="div-content-test"&gt;test용 텍스트 입니다.
	            &lt;div id="treeDiv1"&gt;&lt;/div&gt;
	        &lt;/body&gt;
	        </pre>
	            <p>실행결과 <BR/>            
	                <img src="./images/step8_img1.png">
	            </p>
	          
	          <p>위 실행결과에서는 첫번째 탭만이 활성화 되어 '첫번째 탭입니다'라는 항목이 표시되고 있습니다. <BR/>
	          그러나 일반적으로 화면 로딩 성능을 고려할 때는 나머지 두번째, 세번째탭의 내용은 탭이 선택되었을 때 탭안의 내용을 생성하도록 하는 로직이 필요합니다.
	          탭뷰에서는 <b>activeTabChange</b> 이벤트를 수신하여 <b>해당 탭이 선택되었을 때 최초 한 번만 해당 탭안의 내용를 생성하도록 
	          제어</b>할 수 있습니다. 이렇게 <b>하나의 페이지에 여러 탭뷰 또는 탭 등으로 구성되었을 때 개발자는 성능을 고려하여 주의깊게 화면을 구성</b>해야 합니다.</p>
	           <p>다음으로 이러한 사용 예를 살펴보겠습니다. </p>
	        </div>
	
	        <h2 class="sectionedit3">activeTabChange 이벤트 사용하기</h2>
	        <div class="level2">
	         <p>탭뷰에서는 사용자가 탭을 선택했을 경우 activeTabChange라는 이벤트를 수신하여 
	         현재 선택된 탭이 전에 한번 선택되었는지 혹은 최초 선택인지 판단하는 <b>isFirst</b> 속성 값이 있습니다.<BR/>
	         <b>isFirst</b> 속성값은 기본값이 false이며 탭을 한 번 선택한 이후에는 내부적으로 true로 변경 되어 값이 고정됩니다.
	         그후에는 계속 true 상태로 되어 탭이 처음으로 눌려졌는지 판단하게 됩니다.
	         그래서 아래와 같이 조건을 넣어 판단하면 탭 레이블 선택시 탭의 컨텐츠 영역 로딩을 중복 실행하지 않게 합니다. </p>
	        <pre class="brush: js; highlight: [6,7,9,13,23]">
	        &lt;script type="text/javascript"&gt;
	        Rui.onReady(function(){
	          // 탭뷰 선언부 생략 
	          tabView.render('tab-container');           // 탭뷰를 생성할 위치를 설정 
	
	          tabView.on('activeTabChange', function(e){
	                if(!e.isFirst)return;
	                switch(e.activeIndex){   // 선택된 탭 인덱스 정보입니다.
	                    case 0: // default
	                        Rui.log('index is 0'); 
	                        break; 
	                
	                    case 1: // tree를 생성하는 부분
	                        dataSetTree.load({ url: './../../../../sample/data/menu.json' });
	                        var tree = new Rui.ui.tree.LTreeView({
	                            width: 200,
	                            height: 250,
	                            dataSet: dataSetTree
	                        });
	                        tree.render('treeDiv1');
	                        break;
	                    
	                    case 2: // Grid를 생성하는 부분
	                        var columnModel = new Rui.ui.grid.LColumnModel({
	                            columns: [
	                                new Rui.ui.grid.LStateColumn(),
	                                new Rui.ui.grid.LNumberColumn(),
	                                { field: 'col1', label: 'Col1', editor: new Rui.ui.form.LTextBox() },
	                                { field: 'col2', sortable: false, align: 'center' },
	                                { field: 'col3', align: 'right', hidden: true },
	                                { field: 'date1' , align: 'center', renderer: function(v){
	                                    return '<font color="red">' + v + '</font>';
	                                }}
	                            ]
	                        });
	                        var grid = new Rui.ui.grid.LGridPanel({
	                            columnModel: columnModel,
	                            dataSet: dataSet,
	                            autoWidth: true,
	                            height: 250
	                        });
	                        dataSet.load({ url: './../../../../sample/data/data.json' });    
	                        grid.render('defaultGrid');
	                        break;
	                    }
	        
	        });
	        &lt;/script&gt;
	        &lt;body>
	            &lt;div id="tab-container"&gt;&lt;/div&gt;
	            &lt;div id="div-content-test"&gt;test용 텍스트 입니다.
	            &lt;div id="treeDiv1"&gt;&lt;/div&gt;
	        &lt;/body&gt;
	        </pre>
	            <p>실행결과 - 실행후 gridview 탭을 눌렀을 경우 <BR/>            
	                <img src="./images/step8_img2.png">
	            </p>
	            <p>위 로직대로 수행하면 최초 첫 번째 탭이 실행되고 나머지 탭들은 실행되지 않은 상태에서 
	사용자가 탭을 선택했을 경우에 각 탭이 처음 선택 되었을 때만 한 번 실행됩니다. </p>
        </div>
    </div>
</div>
</body>
</html>