<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Rui.ui.LSimpleDialog Tests</title>
<meta name="devon-rui-testcase" content="yes" />
<script type="text/javascript" src="./../../../js/rui_base.js"></script>
<script type="text/javascript" src="./../../../js/rui_core.js"></script>
<script type="text/javascript" src="./../../../js/rui_ui.js"></script>
<script type="text/javascript" src="./../../../js/rui_form.js"></script>
<script type="text/javascript" src="./../../../js/rui_grid.js"></script>
<script type="text/javascript" src="./../../../resources/rui_config.js"></script>
<link rel="stylesheet" type="text/css" href="./../../../resources/rui.css" />

<script type="text/javascript" src="./../../../../jsunit/app/jsUnitCore.js"></script>

<script type="text/javascript" >

var simpleDialog = null; 
var handleYes = null; 
var handleNo = null;

Rui.onReady(function() {
    // 소스 넣을 위치
   handleYes = function() {
        alert("You clicked yes!");
        this.hide();
    };

    handleNo = function() {
        this.hide();
    };

    // Instantiate the Dialog
    simpleDialog = new Rui.ui.LSimpleDialog("simpledialog1", {
        width : 300,
        fixedcenter : true,
        visible : false,
        draggable : true,
        close : true,
        modal : true,
        text : "Do you want to continue?",
        icon : Rui.ui.LSimpleDialog.ICON_HELP,
        constraintoviewport : true,
        isDefaultCSS : false,
        buttons : [ {
            text : "Yes",
            handler : handleYes,
            isDefault : true
        }, {
            text : "No",
            handler : handleNo
        } ]
    });
    simpleDialog.setHeader("Are you sure?");
    // Render the Dialog
    simpleDialog.render("container");
    /******************JsUnit용 소스 시작**********************/
    //dataSet load event에 넣으면 작동되지 않는다.
    setUpPageStatus = 'complete';
    /******************JsUnit용 소스   끝**********************/
});

    //setUpPageStatus == 'complete'가 되어야만  test function이 실행된다.
    function setUpPage() {
        setUpPageStatus = 'running';
    }

    //test function이 실행되기 전에 먼저 실행된다.
    function setUp() {
    }

    //모든 test function이 실행된 후 실행된다.
    function tearDown() {
    }

    //**************test function 시작*****************
    // testcase 넣을 위치
    function testLSimpleDialog_method_initDefaultConfig() {
        info('LSimpleDialogTests : testLSimpleDialog_method_initDefaultConfig 작동 여부');
        warn('RuiTests : testLSimpleDialog_method_initDefaultConfig 테스트 무시 => protected method');
        //simpleDialog.initDefaultConfig();
        //assertNotUndefined(true);
    }
    function testLSimpleDialog_method_init() {
        info('LSimpleDialogTests : testLSimpleDialog_method_init 작동 여부');
        warn('RuiTests : testLSimpleDialog_method_init 테스트 무시 => protected method');
        //simpleDialog.init(el, el, userConfig);
        //assertNotUndefined(true);
    }
    function testLSimpleDialog_method_registerForm() {
        info('LSimpleDialogTests : testLSimpleDialog_method_registerForm 작동 여부');
        simpleDialog.registerForm();
        assertNotUndefined(simpleDialog.form.innerHTML);
    }
    function testLSimpleDialog_method_toString() {
        info('LSimpleDialogTests : testLSimpleDialog_method_toString 작동 여부');
        var result = simpleDialog.toString();
        //return type : String
        assertNotUndefined(result); 
    }
    function testLSimpleDialog_method_destroy() {
        info('LSimpleDialogTests : testLSimpleDialog_method_destroy 작동 여부');
        var simpleDialog1 = new Rui.ui.LSimpleDialog("simpledialog2", {
            width : 300,
            fixedcenter : true,
            visible : false,
            draggable : true,
            close : true,
            modal : true,
            text : "Do you want to continue?",
            icon : Rui.ui.LSimpleDialog.ICON_HELP,
            constraintoviewport : true,
            isDefaultCSS : false,
            buttons : [ {
                text : "Yes",
                handler : handleYes,
                isDefault : true
            }, {
                text : "No",
                handler : handleNo
            } ]
        });
        simpleDialog1.setHeader("Are you sure?");
        // Render the Dialog
        simpleDialog1.render("container");
        
        simpleDialog1.destroy();
        
        assertUndefined(simpleDialog1.cfg);
    }
    function testLSimpleDialog_method_setBody() {
        info('LSimpleDialogTests : testLSimpleDialog_method_setBody 작동 여부');
        var bodyContent = 'test body'; //String
        simpleDialog.setBody(bodyContent); 
        assertNotNull(simpleDialog.getBody()); 
    }
    //**************test function   끝*****************
</script>
</head>

<body>
    <h1>Rui.ui.LSimpleDialog Tests</h1>

    <div id="bd">
        <div id="container"></div>
        <div id="container2"></div>
        <div class="testcase-buttons">
            <a href="javascript:testLSimpleDialog_method_initDefaultConfig()">initDefaultConfig</a>
            <a href="javascript:testLSimpleDialog_method_init()">init</a>
            <a href="javascript:testLSimpleDialog_method_registerForm()">registerForm</a>
            <a href="javascript:testLSimpleDialog_method_toString()">toString</a>
            <a href="javascript:testLSimpleDialog_method_destroy()">destroy</a>
            <a href="javascript:testLSimpleDialog_method_setBody()">setBody</a>
        </div>
    </div>        
</body>
</html>
