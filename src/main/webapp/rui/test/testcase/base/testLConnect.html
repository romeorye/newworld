<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Rui.LConnect Tests</title>
<meta name="devon-rui-testcase" content="yes" />
<script type="text/javascript" src="./../../../js/rui_base.js"></script>
<script type="text/javascript" src="./../../../js/rui_core.js"></script>
<script type="text/javascript" src="./../../../js/rui_ui.js"></script>
<script type="text/javascript" src="./../../../js/rui_form.js"></script>
<script type="text/javascript" src="./../../../js/rui_grid.js"></script>
<script type="text/javascript" src="./../../../resources/rui_config.js"></script>
<link rel="stylesheet" type="text/css" href="./../../../resources/rui.css" />

<script type="text/javascript" src="./../../../../jsunit/app/jsUnitCore.js"></script>

<script type="text/javascript" >
Rui.onReady(function() {
    
    /******************JsUnit용 소스 시작**********************/
   //dataSet load event에 넣으면 작동되지 않는다.
    setUpPageStatus = 'complete';
    /******************JsUnit용 소스   끝**********************/
});



//setUpPageStatus == 'complete'가 되어야만  test function이 실행된다.
function setUpPage(){
    setUpPageStatus = 'running';
}

//test function이 실행되기 전에 먼저 실행된다.
function setUp(){
}

//모든 test function이 실행된 후 실행된다.
function tearDown(){
}

//**************test function 시작*****************

function testLConnect_method_setDefaultPostHeader() {
    warn('RuiTests : testLConnect_method_setDefaultPostHeader 테스트 무시 => 값 설정용임');
}
function testLConnect_method_setDefaultXhrHeader() {
    warn('RuiTests : testLConnect_method_setDefaultXhrHeader 테스트 무시 => 값 설정용임');
}
function testLConnect_method_setPollingInterval() {
    warn('RuiTests : testLConnect_method_setPollingInterval 테스트 무시 => 값 설정용임');
}
function testLConnect_method_asyncRequest() {
    info('LConnectTests : testLConnect_method_asyncRequest 작동 여부');
    var method = 'get'; //string
    var uri = './testLConnect.html'; //string
    var callback = {
        success: function(){
        },
        failure: function(){
        }
    }; //callback
    var postData = ''; //string|object
    var config = null; //object
    var result = Rui.LConnect.asyncRequest(method, uri, callback, postData, config);
    //return type : object
    assertTrue(typeof result.conn == 'object');
}
function testLConnect_method_syncRequest() {
    info('LConnectTests : testLConnect_method_syncRequest 작동 여부');
    var method = 'get'; //string
    var uri = './testLConnect.html'; //string
    var callback = {
        success: function(){
        },
        failure: function(){
        }
    }; //callback
    var postData = null; //string|object
    var config = null; //object
    var result = Rui.LConnect.syncRequest(method, uri, callback, postData, config);
    //return type : object
    assertTrue(typeof result.conn == 'object');
}
function testLConnect_method_initHeader() {
    warn('RuiTests : testLConnect_method_initHeader 테스트 무시 => 값 설정용임');
}
function testLConnect_method_resetDefaultHeaders() {
    warn('RuiTests : testLConnect_method_resetDefaultHeaders 테스트 무시 => 값 설정용임');
}
function testLConnect_method_setForm() {
    warn('RuiTests : testLConnect_method_setForm 테스트 무시 => 값 설정용임');
}
function testLConnect_method_abort() {
    info('LConnectTests : testLConnect_method_abort 작동 여부');
    var o = Rui.LConnect.asyncRequest('get', './testLConnect.html'); //object
    var result = Rui.LConnect.abort(o);
    assertTrue(result);
}
function testLConnect_method_isCallInProgress() {
    info('LConnectTests : testLConnect_method_isCallInProgress 작동 여부');
    var o = Rui.LConnect.asyncRequest('get', './testLConnect.html'); //object
    assertEquals(Rui.LConnect.isCallInProgress(o), true);
}

function testLConnect_method_crossDomain() {
    info('LConnectTests : testLConnect_method_crossDomain 작동 여부');
    var callback = {
        success: function(e){
            alert(e.responseText);
        },
        failure: function(){
        }
    }; //callback
    var o = Rui.LConnect.asyncRequest('get', 'http://www.dev-on.com/rui/rui2/sample/general/proxy.jsp', callback, null, { crossDomain: true }); //object
    //assertEquals(Rui.LConnect.isCallInProgress(o), true);
}
//**************test function   끝*****************

</script>
</head>

<body>
    <h1>Rui.LConnect Tests</h1>
    <div id="bd">
        <div class="testcase-buttons">
            <a href="javascript:testLConnect_method_setDefaultPostHeader()">setDefaultPostHeader</a>
            <a href="javascript:testLConnect_method_setDefaultXhrHeader()">setDefaultXhrHeader</a>
            <a href="javascript:testLConnect_method_setPollingInterval()">setPollingInterval</a>
            <a href="javascript:testLConnect_method_asyncRequest()">asyncRequest</a>
            <a href="javascript:testLConnect_method_syncRequest()">syncRequest</a>
            <a href="javascript:testLConnect_method_initHeader()">initHeader</a>
            <a href="javascript:testLConnect_method_resetDefaultHeaders()">resetDefaultHeaders</a>
            <a href="javascript:testLConnect_method_setForm()">setForm</a>
            <a href="javascript:testLConnect_method_abort()">abort</a>
            <a href="javascript:testLConnect_method_isCallInProgress()">isCallInProgress</a>
            <a href="javascript:testLConnect_method_crossDomain()">crossDomain</a>
        </div>
    </div>
</body>
</html>
