<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="devon-rui-sample" content="yes" />
    <title>Message Manager</title>
    <meta name="devon-rui-keyword" content="다국어,메시지 매니저(LMessageManager),공통메세지,지역설정,locale " />

    <script type="text/javascript" src="./../../../js/rui_base.js"></script>
    <script type="text/javascript" src="./../../../js/rui_core.js"></script>
    <script type="text/javascript" src="./../../../js/rui_ui.js"></script>
    <script type="text/javascript" src="./../../../js/rui_form.js"></script>
    <script type="text/javascript" src="./../../../js/rui_grid.js"></script>
    <script type="text/javascript" src="./../../../resources/rui_config.js"></script>
    <link rel="stylesheet" type="text/css" href="./../../../resources/rui.css"/>

    <script type="text/javascript" src="./../../../sample/general/rui_sample.js"></script>
    
    <script type="text/javascript" class="script-code">
        var mm = null;
        Rui.onReady(function(){
            // 프로젝트용 루트 공통 메시지 추가 방법
            // Rui.message.LMessageManager.ROOT_LEVEL = ["core", "base", "common", "message"];
            /*<b>*/
            mm = Rui.getMessageManager();
            var newData_ko_KR = {
                locale: 'en_KR',
                message: {
                    test2: '한글'
                }
            }
            var newData_en_US = {
                locale: 'en_US',
                message: {
                    test2: 'english'
                }
            }
            
            mm.addLocaleData(newData_ko_KR);
            mm.addLocaleData(newData_en_US);
            /*</b>*/

            /********************
             * 버튼 선언 및 이벤트
             ********************/
            var addLocaleDataBtn = new Rui.ui.LButton('addLocaleDataBtn');
            addLocaleDataBtn.on('click', function(){
                var data = mm.get('$.base.msg003', [5]);
                alert("기본 locale 읽어온 메시지 : " + data);
            
                mm.setLocale('en_US');
                var data = mm.get('$.base.msg003', [5]);
                alert("en_US 읽어온 메시지 : " + data);
            });
        });
    </script>
</head>
<body>
    <div id='hd'>
        <h1>Message Manager</h1>
        <div class="LblockLine"></div>
        <div class="LblockSubj">
            <h2>다국어 메시지를 처리하는 LMessageManager 샘플</h2>
            <div class="LblockDesc">
		        <p>다국어 처리가 가능한 (MessageManager)를 이용하여 지역 설정에 따라 메세지를 다국어 형태로 사용할 수 있습니다.</p>
		        <p>각 언어별로 /rui/resources/locale 위치에 lang_xx_XX.js 형태로 메세지 파일을 생성하여 사용합니다.</p>
		        <p>LMessageManager는 콤포넌트의 메시지만 담당하고 그외 메시지는 서버 기술을 이용하세요.</p>
            </div>
        </div>
    </div>
    <div id='bd'>
        <div class="LblockMarkupCode">
        </div>
        <div>아래 버튼을 클릭하여 수행 결과를 확인하실 수 있습니다. </div><br/>
        <div class="LblockButton" >
            <button type="button" id="addLocaleDataBtn" >message</button>
        </div>
    </div>
</body>
</html>
